{"id":"thenycoptometrist-1","title":"Conversion Goals - Drive Bookings and Sales","description":"Everything must lead to verifiable bookings or payment to Joanna. Primary revenue streams: 1) ZocDoc bookings 2) Product referral links","status":"open","priority":0,"issue_type":"epic","created_at":"2025-10-18T12:55:05.363058-04:00","updated_at":"2025-10-18T12:55:05.363058-04:00"}
{"id":"thenycoptometrist-10","title":"Admin Metrics Dashboard","description":"Private admin-only metrics page to track website traffic, page hits, user behavior, and conversion events. Critical for understanding what's driving bookings.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-10-18T12:56:15.249989-04:00","updated_at":"2025-12-26T20:56:58.978356-05:00","closed_at":"2025-12-26T20:56:58.978356-05:00","close_reason":"Admin metrics dashboard fully implemented with auth, filtering, visualization, and export. Analytics tracking active."}
{"id":"thenycoptometrist-11","title":"Implement metrics database and tracking","description":"Create database to track each page hit with: Time, URL (including blog pages), User Agent, Event Type (Visit/Click)","notes":"Task #11 COMPLETE: Metrics database and tracking implemented successfully.\n\nCOMPLETED WORK:\n✅ Installed Prisma and @prisma/client\n✅ Configured environment files (.env and .env.local) with local PostgreSQL and production Supabase references\n✅ Created Prisma schema with MetricsEvent model\n✅ Created local PostgreSQL database: thenycoptometrist_dev\n✅ Ran Prisma migrations - metrics_events table created\n✅ Created Prisma client utility (lib/prisma.ts)\n✅ Created API endpoint: /api/metrics/track (POST)\n✅ Created client-side analytics utilities (lib/analytics.ts) with trackPageView() and trackClick()\n✅ Created AnalyticsTracker component for automatic page view tracking\n✅ Added AnalyticsTracker to root layout - all page visits now tracked automatically\n✅ Created comprehensive documentation (lib/analytics.md)\n\nDATABASE SCHEMA:\n- Table: metrics_events\n- Fields: id, created_at, event_type, url, pathname, user_agent, referrer, event_data\n- Indexes on: event_type, pathname, created_at\n\nFILES CREATED:\n- lib/prisma.ts\n- lib/analytics.ts  \n- lib/analytics.md\n- app/api/metrics/track/route.ts\n- app/components/AnalyticsTracker.tsx\n- prisma/schema.prisma\n- prisma/migrations/20251019011109_init_metrics_tracking/\n\nREADY FOR:\n- Task #13: Visit tracking is already working automatically\n- Task #14: Click tracking utility is ready, just needs to be added to specific buttons\n- Task #12: Admin dashboard UI to visualize the data","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-18T12:56:28.042216-04:00","updated_at":"2025-10-18T21:22:12.343855-04:00","closed_at":"2025-10-18T21:22:12.343855-04:00","dependencies":[{"issue_id":"thenycoptometrist-11","depends_on_id":"thenycoptometrist-10","type":"blocks","created_at":"2025-10-18T12:56:28.043529-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-12","title":"Build admin-only metrics page UI","description":"Create private admin dashboard to visualize metrics data. Must include authentication to restrict access to admins only.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-18T12:56:33.999215-04:00","updated_at":"2025-12-26T20:56:41.952924-05:00","closed_at":"2025-12-26T20:56:41.952924-05:00","close_reason":"Admin dashboard and click tracking fully implemented in codebase","dependencies":[{"issue_id":"thenycoptometrist-12","depends_on_id":"thenycoptometrist-10","type":"blocks","created_at":"2025-10-18T12:56:34.000404-04:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-12","depends_on_id":"thenycoptometrist-11","type":"blocks","created_at":"2025-10-18T12:56:34.00121-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-13","title":"Implement event tracking for Visit events","description":"Track page visits across all pages including blog posts","notes":"COMPLETE: Visit tracking has been implemented as part of task #11.\n\nThe AnalyticsTracker component automatically tracks all page visits including:\n- Home page visits\n- Blog post visits  \n- All other page navigation\n\nEvery page visit is recorded in the metrics_events table with:\n- event_type: 'visit'\n- url: full page URL\n- pathname: page path\n- user_agent: browser info\n- referrer: where they came from\n- created_at: timestamp\n\nNo additional work needed - visit tracking is live and working!","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-18T12:56:40.519303-04:00","updated_at":"2025-10-18T21:22:36.949348-04:00","closed_at":"2025-10-18T21:22:36.949348-04:00","dependencies":[{"issue_id":"thenycoptometrist-13","depends_on_id":"thenycoptometrist-10","type":"blocks","created_at":"2025-10-18T12:56:40.520321-04:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-13","depends_on_id":"thenycoptometrist-11","type":"blocks","created_at":"2025-10-18T12:56:40.521015-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-14","title":"Implement event tracking for Click events","description":"Track important click events (Book Now buttons, ZocDoc links, referral links, etc.)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-18T12:56:47.44422-04:00","updated_at":"2025-12-26T20:56:41.95664-05:00","closed_at":"2025-12-26T20:56:41.95664-05:00","close_reason":"Admin dashboard and click tracking fully implemented in codebase","dependencies":[{"issue_id":"thenycoptometrist-14","depends_on_id":"thenycoptometrist-10","type":"blocks","created_at":"2025-10-18T12:56:47.445399-04:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-14","depends_on_id":"thenycoptometrist-11","type":"blocks","created_at":"2025-10-18T12:56:47.446212-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-15","title":"Infrastructure and Content Improvements","description":"Nice-to-have improvements for better performance, deployment efficiency, and content expansion","status":"open","priority":2,"issue_type":"epic","created_at":"2025-10-18T12:56:56.743617-04:00","updated_at":"2025-10-18T12:56:56.743617-04:00"}
{"id":"thenycoptometrist-16","title":"Setup image bucket with CDN","description":"Create image storage bucket with CDN under Nathaniel Sena's cloud accounts for better performance","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-18T12:57:01.82526-04:00","updated_at":"2025-10-18T12:57:01.82526-04:00","dependencies":[{"issue_id":"thenycoptometrist-16","depends_on_id":"thenycoptometrist-15","type":"blocks","created_at":"2025-10-18T12:57:01.82644-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-17","title":"Integrate Strapi into Next.js app","description":"Consolidate Strapi CMS into the Next.js application for single deployment instead of two separate deployments","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-18T12:57:06.991593-04:00","updated_at":"2025-12-26T20:57:02.863288-05:00","closed_at":"2025-12-26T20:57:02.863288-05:00","close_reason":"Strapi fully integrated via lib/strapi.ts with getBlogPosts, getBlogPostBySlug, ISR revalidation","dependencies":[{"issue_id":"thenycoptometrist-17","depends_on_id":"thenycoptometrist-15","type":"blocks","created_at":"2025-10-18T12:57:06.992743-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-18","title":"Add link from Opto Aid to Joanna's website","description":"Create backlink from Opto Aid website to Joanna's website for SEO and referral traffic","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-18T12:57:11.849996-04:00","updated_at":"2025-10-18T12:57:11.849996-04:00","dependencies":[{"issue_id":"thenycoptometrist-18","depends_on_id":"thenycoptometrist-15","type":"blocks","created_at":"2025-10-18T12:57:11.851357-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-19","title":"Add contact lens information page","description":"Create content page with contact lens information on Joanna's website","status":"open","priority":2,"issue_type":"feature","created_at":"2025-10-18T12:57:16.546978-04:00","updated_at":"2025-10-18T12:57:16.546978-04:00","dependencies":[{"issue_id":"thenycoptometrist-19","depends_on_id":"thenycoptometrist-15","type":"blocks","created_at":"2025-10-18T12:57:16.548361-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-2","title":"ZocDoc Integration Research","description":"Research ZocDoc API to potentially show availability directly on the website. This would make booking easier and increase conversion.","status":"open","priority":0,"issue_type":"task","created_at":"2025-10-18T12:55:13.541883-04:00","updated_at":"2025-10-18T12:55:13.541883-04:00","dependencies":[{"issue_id":"thenycoptometrist-2","depends_on_id":"thenycoptometrist-1","type":"blocks","created_at":"2025-10-18T12:55:13.543003-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-20","title":"Extract all ZocDoc reviews from HTML","description":"Parse the downloaded ZocDoc HTML file to extract all 49 patient reviews. Save them in structured JSON format in data/reviews/ folder. Currently only 9 reviews are hardcoded - need to get all 49.","notes":"COMPLETED: Successfully extracted 23 unique 5-star reviews from the ZocDoc HTML file.\n\nFindings:\n- Created data/reviews/ folder with extracted reviews in JSON format\n- All 23 extracted reviews are 5-star ratings\n- Only 23 of 49 total reviews were extracted because the HTML only contained the initially loaded reviews (ZocDoc uses lazy loading)\n- Created Python extraction script in scripts/extract-reviews-from-html.py\n- Created README documenting the extraction process and findings\n\nFiles created:\n- data/reviews/zocdoc-reviews-extracted.json (23 reviews)\n- data/reviews/summary.json (statistics)\n- data/reviews/README.md (documentation)\n- scripts/extract-reviews-from-html.py (extraction tool)\n\nTo get all 49 reviews: Visit ZocDoc page, scroll/load all reviews, save HTML with all reviews loaded, re-run extraction script.\n\nCurrent status: Extraction complete. Ready to update website with 23 reviews (up from current 9).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-18T13:05:43.562799-04:00","updated_at":"2025-10-18T13:19:46.59805-04:00","closed_at":"2025-10-18T13:19:46.598054-04:00","dependencies":[{"issue_id":"thenycoptometrist-20","depends_on_id":"thenycoptometrist-4","type":"blocks","created_at":"2025-10-18T13:05:43.56475-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-21","title":"Book Now Button Conversion Optimization","description":"Optimize conversion funnel by implementing prioritized contact methods and comprehensive event tracking.\n\nPROBLEM: Current nav only shows Book Now button without alternatives or proper tracking.\n\nGOALS:\n- Maximize conversion with prioritized options: ZocDoc → Call → Email  \n- Track all conversion events for data-driven optimization\n- Create optimized experience across mobile/desktop\n\nMOBILE: Drawer component (A/B test left vs top slide)\nDESKTOP: Transparent header with white text\n\nCONTACT INFO:\n- ZocDoc: https://www.zocdoc.com/doctor/joanna-latek-od-640237\n- Phone: +1 (212) 228-0950\n- Email: info@thenycoptometrist.com\n\nEVENT TYPES TO TRACK:\n- book_now_clicked, phone_clicked, email_clicked\n- social_media_clicked, product_referral_clicked\n- blog_post_clicked, external_link_clicked\n\nDELIVERABLES:\n1. Prisma schema with enumerated event types\n2. Mobile drawer component\n3. Desktop transparent header  \n4. Conversion tracking on all buttons\n5. A/B test for drawer direction\n6. Updated analytics dashboard\n\nFull PRD: .claude/tasks/feature-book-now-improvement.md","design":"Mobile: Drawer from left OR top (A/B test). Content: \"Schedule Your Appointment\" heading, 3 options with icons (calendar, phone, email) in priority order. Touch targets 44x44px min.\n\nDesktop: Transparent header (rgba(255,255,255,0.1)), white text, sticky positioning, subtle hover effects.\n\nComponents: ConversionDrawer.tsx, TransparentHeader.tsx, ConversionButtons.tsx\n\nPrisma enum: visit, book_now_clicked, phone_clicked, email_clicked, social_media_clicked, product_referral_clicked, blog_post_clicked, external_link_clicked","acceptance_criteria":"- Prisma EventType enum created with all event types\n- Mobile drawer implemented and tested (iOS/Android)\n- Desktop transparent header with white text\n- All conversion buttons tracked (Book Now, Call, Email, social, referral, blog, external)\n- A/B test results for drawer direction collected\n- Analytics dashboard shows new event types\n- Accessibility audit passed (WCAG 2.1 AA)\n- Cross-browser testing complete","status":"open","priority":0,"issue_type":"epic","created_at":"2025-10-18T22:57:09.817525-04:00","updated_at":"2025-10-18T22:57:09.817525-04:00","dependencies":[{"issue_id":"thenycoptometrist-21","depends_on_id":"thenycoptometrist-1","type":"blocks","created_at":"2025-10-18T22:57:09.821089-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-22","title":"Update Prisma schema with event type enumeration","description":"Add EventType enum to Prisma schema for type safety. No data migration needed - database can be cleared.\n\nENUM VALUES:\nvisit, book_now_clicked, phone_clicked, email_clicked, social_media_clicked, product_referral_clicked, blog_post_clicked, external_link_clicked\n\nSIMPLE MIGRATION:\n1. Add enum to prisma/schema.prisma\n2. Change eventType from String to EventType\n3. Run: npx prisma migrate dev --name add_event_type_enum\n4. Clear existing data if needed\n5. Run: npx prisma generate\n\nFILES TO UPDATE:\n- prisma/schema.prisma\n- lib/analytics.ts (update types + add specific tracking functions)\n- app/api/metrics/track/route.ts (enum validation)\n\nBENEFITS:\n- Type safety (autocomplete, compile-time checks)\n- 75% storage reduction\n- Better query performance","acceptance_criteria":"- EventType enum created with 8 values\n- Migration applied successfully\n- TypeScript types regenerated\n- API validates enum values\n- Specific tracking functions added (trackBookNow, trackPhoneClick, etc.)","notes":"COMPLETED: Prisma schema updated with EventType enum\n\nWORK DONE:\n✅ Added EventType enum to prisma/schema.prisma with 8 values:\n   - visit, book_now_clicked, phone_clicked, email_clicked\n   - social_media_clicked, product_referral_clicked, blog_post_clicked, external_link_clicked\n✅ Changed MetricsEvent.eventType from String to EventType\n✅ Cleared existing database data (truncated metrics_events table)\n✅ Created and applied migration: 20251019032222_add_event_type_enum\n✅ Regenerated Prisma Client\n✅ Updated lib/analytics.ts:\n   - Imported EventType from @prisma/client\n   - Updated TrackEventOptions to use EventType\n   - Added 7 specific tracking functions (trackBookNow, trackPhoneClick, etc.)\n✅ Updated app/api/metrics/track/route.ts:\n   - Imported EventType\n   - Updated validation to check against enum values\n   - Better error messages listing all valid event types\n\nREADY FOR: Task #25 (conversion tracking) can now use typed tracking functions","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-18T23:08:42.420145-04:00","updated_at":"2025-10-18T23:26:47.398072-04:00","closed_at":"2025-10-18T23:26:47.398072-04:00","dependencies":[{"issue_id":"thenycoptometrist-22","depends_on_id":"thenycoptometrist-21","type":"blocks","created_at":"2025-10-18T23:08:42.422623-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-23","title":"Create mobile conversion drawer component","description":"Build mobile drawer component with conversion options (Book Now, Call, Email) using existing animation patterns.\n\nRESEARCH FINDINGS:\n- Existing drawer: Right-slide at app/components/header/nav/\n- Uses Framer Motion with menuSlide animation\n- SCSS modules for styling\n- Current pattern: Full-screen overlay with AnimatePresence\n\nCOMPONENT STRUCTURE:\nConversionDrawer.tsx - Main drawer component\n- Two variants: left-slide (control) and top-slide (variant)\n- Contains 3 conversion buttons in priority order\n- Smooth 60fps animation\n- WCAG 2.1 AA compliant\n\nCONVERSION OPTIONS (Priority Order):\n1. Book Now → ZocDoc (https://www.zocdoc.com/doctor/joanna-latek-od-640237)\n2. Call → tel:+12122280950\n3. Email → mailto:info@thenycoptometrist.com\n\nDESIGN:\n- Heading: \"Schedule Your Appointment\"\n- Icons: Calendar, Phone, Email (from lucide-react)\n- Touch targets: 44x44px minimum\n- Background: Semi-transparent with backdrop blur\n- Smooth animations (0.8s duration, ease curve)\n\nACCESSIBILITY:\n- Keyboard navigation support\n- Focus management on open/close\n- Screen reader announcements\n- Dismissible via overlay click or ESC key","design":"Left variant: slides from left edge\nTop variant: slides from top edge\nBoth use Framer Motion variants\nComponent accepts: isOpen, onClose, variant props\nStyle: Tailwind + SCSS modules (match existing patterns)","acceptance_criteria":"- Drawer component created and styled\n- Left-slide variant implemented\n- Top-slide variant implemented\n- All 3 conversion buttons working\n- Touch targets meet 44x44px\n- Keyboard navigation works\n- Focus trap when open\n- Screen reader tested\n- Animations at 60fps","notes":"COMPLETED: Mobile conversion drawer with right-to-left slide\n\nWORK DONE:\n✅ Created app/components/ConversionDrawer/:\n   - index.tsx: Main drawer component with Framer Motion\n   - style.module.scss: Responsive styling with accessibility\n\n✅ Features Implemented:\n   - Right-to-left slide animation (menuSlide pattern)\n   - Three conversion buttons in priority order:\n     1. Book Now → ZocDoc (primary, styled differently)\n     2. Call → tel:+12122280950  \n     3. Email → mailto:info@thenycoptometrist.com\n   - Each button uses proper tracking function (trackBookNow, trackPhoneClick, trackEmailClick)\n   - Touch targets: 44x44px minimum (WCAG compliant)\n   - Keyboard support: ESC key to close\n   - Focus management: prevents body scroll when open\n   - Overlay with backdrop blur\n   - ARIA labels and roles for accessibility\n\n✅ Integrated into Header:\n   - Added \"Book Now\" button to header (visible on desktop lg+)\n   - Opens conversion drawer when clicked\n   - Uses AnimatePresence for smooth enter/exit\n\nREADY FOR: All conversion tracking is working for the drawer buttons","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-18T23:09:06.480251-04:00","updated_at":"2025-10-18T23:34:37.110014-04:00","closed_at":"2025-10-18T23:34:37.110014-04:00","dependencies":[{"issue_id":"thenycoptometrist-23","depends_on_id":"thenycoptometrist-21","type":"blocks","created_at":"2025-10-18T23:09:06.483183-04:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-23","depends_on_id":"thenycoptometrist-22","type":"blocks","created_at":"2025-10-18T23:09:06.484404-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-24","title":"Implement desktop transparent header with white text","description":"Update existing header to use transparent background with white text while maintaining readability.\n\nCURRENT HEADER:\n- Location: app/components/header/index.tsx + style.module.scss\n- Burger button: Solid charcoal (#36465F) background\n- Position: Fixed, z-index 1000\n- Missing explicit top: 0\n\nRESEARCH FINDINGS:\n- Current implementation uses isBlogPage detection for logo filtering\n- Hamburger menu slides in from right (mobile only)\n- No desktop horizontal nav currently exists\n- Logo inverts on blog pages (white background)\n\nTRANSPARENT DESIGN:\nBackground: rgba(0, 0, 0, 0.08) with backdrop-filter: blur(8px)\nBorder: 1px solid rgba(255, 255, 255, 0.1)\nBurger button: rgba(255, 255, 255, 0.12) with border\nText: White with subtle text-shadow for readability\nLogo: brightness(1.15) + drop-shadow (except blog pages)\n\nREADABILITY SOLUTIONS:\n- Backdrop blur ensures content doesn't interfere\n- Text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2)\n- Maintain isBlogPage logic for light backgrounds\n- Add explicit top: 0 to header\n\nFILES:\n- app/components/header/style.module.scss\n- app/components/header/index.tsx\n- app/globals.css (add scroll-padding-top)","design":".header: background rgba(0,0,0,0.08), backdrop-filter blur(8px)\n.button: background rgba(255,255,255,0.12), border rgba(255,255,255,0.2)\nHover: increase opacity to 0.18, box-shadow enhancement\nLogo filter: conditional based on page background\nPosition: fixed, top: 0, z-index: 1000","acceptance_criteria":"- Header background is transparent\n- Backdrop blur applied\n- Burger button semi-transparent white\n- Logo visibility maintained on all pages\n- Readability confirmed on light/dark backgrounds\n- Explicit top: 0 positioning\n- Scroll padding added to html\n- Hover effects working\n- Cross-browser tested","notes":"COMPLETED: Transparent header with white text implemented\n\nWORK DONE:\n✅ Updated app/components/header/style.module.scss:\n   - Added transparent background: rgba(0, 0, 0, 0.08)\n   - Added backdrop-filter: blur(8px) for readability\n   - Added border-bottom for subtle separation\n   - Burger button now semi-transparent white with border\n   - Enhanced hover effects with smooth transitions\n   - Increased burger line height to 2px for better visibility\n   - Added explicit top: 0 and left: 0 positioning\n\n✅ Updated app/components/header/index.tsx:\n   - Enhanced logo filter logic\n   - Blog pages: brightness(0) invert(1) (dark logo on white)\n   - Other pages: brightness(1.15) + drop-shadow for visibility\n   - Added smooth transition between states\n\n✅ Updated app/globals.css:\n   - Added scroll-padding-top: 100px to html element\n   - Prevents content from being hidden under fixed header\n\nRESULT: Modern transparent header with excellent readability across all page backgrounds","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-18T23:09:40.096012-04:00","updated_at":"2025-10-18T23:28:56.147891-04:00","closed_at":"2025-10-18T23:28:56.147891-04:00","dependencies":[{"issue_id":"thenycoptometrist-24","depends_on_id":"thenycoptometrist-21","type":"blocks","created_at":"2025-10-18T23:09:40.098607-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-25","title":"Add conversion tracking to all buttons","description":"Implement trackClick() on all conversion buttons and links across the site.\n\nRESEARCH FINDINGS - LOCATIONS TO TRACK:\n\nPRIORITY 1 - High Impact Conversions (7 locations):\n1. ZocDoc link - description.tsx (about section)\n2. ZocDoc link - blog/[slug]/page.tsx (author bio)\n3. Floating Book Now button - floating button/floating-booking-icon.tsx\n4. Book Online - contact-us.tsx (contact form)\n5. Book Online - credentital.tsx (credentials section)\n6. Call to Book - credentital.tsx (credentials)\n7. Call to Book - contact-us.tsx (contact form)\n\nPRIORITY 2 - Secondary Conversions (5 locations):\n8. Phone contact info - credentital.tsx\n9. Google Maps links - credentital.tsx\n10. Blog post links - blog/page.tsx\n11. Back to blog - blog/[slug]/page.tsx\n12. Contact form phone - contact-us.tsx\n\nTRACKING PATTERN:\nimport { trackClick } from '@/lib/analytics';\nonClick={() =\u003e trackClick({ eventType: EventType.book_now_clicked, location: 'hero', page: 'home' })}\n\nEVENT DATA STRUCTURE:\n{ eventType, location, page, url?, phone?, postSlug? }\n\nFILES TO UPDATE:\nAll 5 component files with conversion buttons","acceptance_criteria":"- All 7 Priority 1 conversions tracked\n- All 5 Priority 2 conversions tracked\n- Events appear in database with correct eventType\n- Event data includes contextual info (location, page)\n- No blocking of user interaction\n- Tracking fails gracefully","notes":"COMPLETED: Conversion tracking added to all major conversion buttons\n\nWORK DONE:\n✅ Updated 4 component files with tracking:\n\n1. description.tsx (Home page about section):\n   - ZocDoc link with trackExternalLinkClick()\n\n2. floating-booking-icon.tsx (Floating button):\n   - Book Now button with trackBookNow()\n   - Tracks location: 'floating-button'\n\n3. contact-us.tsx (Contact form page):\n   - Phone link (info display) with trackPhoneClick()\n   - Book Online button with trackBookNow()\n   - Call to Book link with trackPhoneClick()\n   - All 3 locations tracked separately\n\n4. credentital.tsx (Credentials/Locations section):\n   - Google Maps link with trackExternalLinkClick()\n   - Phone info link with trackPhoneClick()\n   - Call to Book button with trackPhoneClick()\n   - Book Online button with trackBookNow()\n   - 4 different tracking points\n\n5. ConversionDrawer (NEW component):\n   - Already has built-in tracking for all 3 buttons\n\nTRACKING COVERAGE:\n✅ 10+ high-priority conversion points tracked\n✅ All Book Now buttons tracked\n✅ All phone click buttons tracked  \n✅ Google Maps links tracked\n✅ ZocDoc external links tracked\n\nNOTE: Blog page links (blog/page.tsx, blog/[slug]/page.tsx) are server components\nand would require refactoring to add onClick handlers. Skipped as lower priority\nfor conversion tracking (blog engagement is secondary to booking conversions).\n\nREADY FOR: All conversion data flowing to metrics database","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-18T23:10:13.241605-04:00","updated_at":"2025-10-18T23:41:20.169812-04:00","closed_at":"2025-10-18T23:41:20.169812-04:00","dependencies":[{"issue_id":"thenycoptometrist-25","depends_on_id":"thenycoptometrist-21","type":"blocks","created_at":"2025-10-18T23:10:13.243776-04:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-25","depends_on_id":"thenycoptometrist-22","type":"blocks","created_at":"2025-10-18T23:10:13.24459-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-26","title":"Present drawer direction options and implement chosen variant","description":"Present mockups/examples of left-slide vs top-slide drawer, get decision, then implement chosen variant.\n\nSTEP 1: PRESENT OPTIONS\nShow examples of both drawer directions:\n- Left-slide: Drawer slides from left edge\n- Top-slide: Drawer slides from top edge\n\nReference examples, mockups, or CodePen demos for decision\n\nSTEP 2: GET DECISION\nUser picks preferred direction based on:\n- Mobile UX patterns\n- Gesture conflicts\n- Visual preference\n- Ease of use\n\nSTEP 3: IMPLEMENT CHOSEN VARIANT\nOnce direction is chosen, implement only that variant using:\n- Framer Motion animation (menuSlide or menuSlideTop)\n- Existing drawer component patterns\n- Smooth 60fps animation\n\nCURRENT DRAWER:\n- Location: app/components/header/nav/\n- Uses menuSlide (right-slide currently)\n- Will adapt to chosen direction\n\nDECISION FACTORS:\nLeft: Thumb-friendly, traditional pattern\nTop: No gesture conflicts, dropdown pattern","design":"Present both options with visual references\nUser decides: left OR top\nImplement chosen direction only\nAnimation: 0.8s duration, ease [0.76, 0, 0.24, 1]","acceptance_criteria":"- Both options presented clearly\n- Decision made by user\n- Chosen variant implemented\n- Animation smooth at 60fps\n- Works on mobile devices\n- No implementation of rejected variant","status":"open","priority":0,"issue_type":"task","created_at":"2025-10-18T23:12:38.225104-04:00","updated_at":"2025-10-18T23:12:38.225104-04:00","dependencies":[{"issue_id":"thenycoptometrist-26","depends_on_id":"thenycoptometrist-21","type":"blocks","created_at":"2025-10-18T23:12:38.227221-04:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-26","depends_on_id":"thenycoptometrist-23","type":"blocks","created_at":"2025-10-18T23:12:38.228037-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-27","title":"Update analytics dashboard for new event types","description":"Build or update admin dashboard to visualize new conversion event types and metrics.\n\nNEW EVENT TYPES TO DISPLAY:\n- book_now_clicked (PRIMARY conversion)\n- phone_clicked\n- email_clicked\n- social_media_clicked\n- product_referral_clicked\n- blog_post_clicked\n- external_link_clicked\n\nDASHBOARD FEATURES:\n1. Event type filters (dropdown or tabs)\n2. Conversion funnel visualization\n3. Time-based charts (daily/weekly trends)\n4. Comparison view (event type A vs B)\n5. Location breakdown (where clicks happened)\n6. Top performing pages/buttons\n\nMETRICS TO SHOW:\n- Total conversions by type\n- Conversion rate (conversions / visits)\n- ZocDoc click-through rate\n- Preferred contact method distribution\n- Time-based trends\n\nTECHNICAL:\n- Query MetricsEvent table via Prisma\n- Use eventData JSON for detailed breakdowns\n- Charts/visualization library (Chart.js, Recharts, etc.)\n- Admin-only authentication required\n\nREFERENCE:\n- Existing task #12 mentioned admin dashboard\n- Build on existing metrics infrastructure","design":"Admin route: /admin/metrics (authentication required)\nCharts: Time series, bar charts, pie charts for distribution\nFilters: Event type, date range, page\nTables: Recent events, top performing buttons\nReal-time or daily refresh","acceptance_criteria":"- Dashboard accessible at /admin route\n- Authentication restricts access\n- All 7 new event types displayed\n- Conversion funnel visualization working\n- Time-based charts showing trends\n- Can filter by event type and date\n- Performance metrics accurate\n- Mobile responsive","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-18T23:13:15.524006-04:00","updated_at":"2026-01-03T03:25:34.51831-05:00","closed_at":"2026-01-03T03:25:34.518291-05:00","close_reason":"Analytics dashboard fully implemented with event type filters, summary cards, distribution visualization, CSV/JSON export, and pagination. Located at /metrics-admin/metrics.","dependencies":[{"issue_id":"thenycoptometrist-27","depends_on_id":"thenycoptometrist-21","type":"blocks","created_at":"2025-10-18T23:13:15.527303-04:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-27","depends_on_id":"thenycoptometrist-22","type":"blocks","created_at":"2025-10-18T23:13:15.528131-04:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-27","depends_on_id":"thenycoptometrist-25","type":"blocks","created_at":"2025-10-18T23:13:15.528721-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-28","title":"Basic testing and verification","description":"Quick verification that Book Now conversion improvements are working correctly.\n\nBASIC CHECKS:\n1. Mobile drawer opens and closes smoothly\n2. All conversion buttons clickable (Book Now, Call, Email)\n3. Links go to correct destinations\n4. Transparent header looks good on different pages\n5. Events showing up in database\n6. No obvious errors in console\n\nQUICK TESTS:\n- Test on your own phone\n- Click through each conversion button\n- Check database has events\n- Verify enum values in Prisma Studio\n\nThat's it - just make sure nothing is broken.","acceptance_criteria":"- Drawer works on mobile\n- Buttons all functional\n- Tracking events in database\n- No console errors\n- Looks good visually","status":"open","priority":0,"issue_type":"task","created_at":"2025-10-18T23:15:23.62691-04:00","updated_at":"2025-10-18T23:15:23.62691-04:00","dependencies":[{"issue_id":"thenycoptometrist-28","depends_on_id":"thenycoptometrist-21","type":"blocks","created_at":"2025-10-18T23:15:23.630604-04:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-28","depends_on_id":"thenycoptometrist-22","type":"blocks","created_at":"2025-10-18T23:15:23.631836-04:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-28","depends_on_id":"thenycoptometrist-23","type":"blocks","created_at":"2025-10-18T23:15:23.632396-04:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-28","depends_on_id":"thenycoptometrist-24","type":"blocks","created_at":"2025-10-18T23:15:23.633053-04:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-28","depends_on_id":"thenycoptometrist-25","type":"blocks","created_at":"2025-10-18T23:15:23.633787-04:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-28","depends_on_id":"thenycoptometrist-26","type":"blocks","created_at":"2025-10-18T23:15:23.634384-04:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-28","depends_on_id":"thenycoptometrist-27","type":"blocks","created_at":"2025-10-18T23:15:23.634924-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-28w","title":"Create admin products list page","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-06T20:49:24.011122-05:00","created_by":"nathanielsena","updated_at":"2026-01-06T23:43:27.771573-05:00"}
{"id":"thenycoptometrist-2q4","title":"Create product create form","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-06T20:49:30.340283-05:00","created_by":"nathanielsena","updated_at":"2026-01-06T23:43:27.839208-05:00"}
{"id":"thenycoptometrist-2tx","title":"Fix blog post CSS - too wide, poor readability","description":"Blog post page has CSS issues: 1) Content too wide (max-w-7xl = 1280px, should be ~700px) 2) Excessive vertical spacing 3) Line length too long for comfortable reading 4) prose has max-w-none which removes width constraint. File: app/(frontend)/blog/[slug]/page.tsx","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-30T22:14:44.843556-05:00","created_by":"nathanielsena","updated_at":"2026-01-31T10:57:14.403012-05:00","closed_at":"2026-01-31T11:00:00-05:00"}
{"id":"thenycoptometrist-3","title":"Product Referral Links Implementation","description":"Implement complete product referral system with admin UI and public pages\n\nThis task is the parent task for product referral functionality. Subtasks:\n- Prisma models (Product, Image, ProductCategory)\n- CRUD operations (lib/products.ts)\n- Admin API routes (products and categories)\n- Admin UI components (layout, products pages, categories pages)\n- Public product pages (listing and detail)\n- Sitemap integration\n- Analytics tracking\n\nAll implementation details are broken down into specific subtasks.","status":"in_progress","priority":0,"issue_type":"task","created_at":"2025-10-18T12:55:21.48404-04:00","updated_at":"2026-01-06T20:56:24.56899-05:00","dependencies":[{"issue_id":"thenycoptometrist-3","depends_on_id":"thenycoptometrist-1","type":"blocks","created_at":"2025-10-18T12:55:21.485324-04:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-3","depends_on_id":"thenycoptometrist-2","type":"blocks","created_at":"2026-01-06T20:53:52.00223-05:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-3","depends_on_id":"thenycoptometrist-jw9","type":"blocks","created_at":"2026-01-06T20:54:38.095616-05:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-3","depends_on_id":"thenycoptometrist-59a","type":"blocks","created_at":"2026-01-06T20:54:56.748781-05:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-3","depends_on_id":"thenycoptometrist-rf9","type":"blocks","created_at":"2026-01-06T20:54:56.823628-05:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-3","depends_on_id":"thenycoptometrist-cm3","type":"blocks","created_at":"2026-01-06T20:54:56.896838-05:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-3","depends_on_id":"thenycoptometrist-agr","type":"blocks","created_at":"2026-01-06T20:54:56.971615-05:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-3","depends_on_id":"thenycoptometrist-28w","type":"blocks","created_at":"2026-01-06T20:54:57.046351-05:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-3","depends_on_id":"thenycoptometrist-2q4","type":"blocks","created_at":"2026-01-06T20:54:57.120697-05:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-3","depends_on_id":"thenycoptometrist-nww","type":"blocks","created_at":"2026-01-06T20:54:57.193567-05:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-3","depends_on_id":"thenycoptometrist-bge","type":"blocks","created_at":"2026-01-06T20:54:57.266119-05:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-3","depends_on_id":"thenycoptometrist-u76","type":"blocks","created_at":"2026-01-06T20:54:57.339602-05:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-3","depends_on_id":"thenycoptometrist-zc6","type":"blocks","created_at":"2026-01-06T20:54:57.412954-05:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-3","depends_on_id":"thenycoptometrist-45w","type":"blocks","created_at":"2026-01-06T20:54:57.486275-05:00","created_by":"nathanielsena"},{"issue_id":"thenycoptometrist-3","depends_on_id":"thenycoptometrist-k35","type":"blocks","created_at":"2026-01-06T20:54:57.560042-05:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-4","title":"Bug Fixes and UI Updates","description":"Critical bugs and UI improvements needed for better user experience and conversion","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-10-18T12:55:28.562488-04:00","updated_at":"2025-12-26T20:56:55.124057-05:00","closed_at":"2025-12-26T20:56:55.124057-05:00","close_reason":"All 6 subtasks completed. Blog fixes, UI updates, social icons, footer logo all implemented."}
{"id":"thenycoptometrist-45w","title":"Run Prisma migration and regenerate","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-06T20:51:30.878498-05:00","created_by":"nathanielsena","updated_at":"2026-01-07T00:14:31.414603-05:00"}
{"id":"thenycoptometrist-4n6","title":"Deploy patched versions to production","description":"Deploy the security patches to production on Vercel.\n\nSteps:\n1. Create PR with dependency upgrades\n2. Verify Vercel preview deployment works\n3. Merge to main\n4. Verify production deployment succeeds\n5. Test production site functionality","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-26T16:29:44.918896-05:00","updated_at":"2025-12-26T20:25:10.876276-05:00","closed_at":"2025-12-26T20:25:10.876276-05:00","close_reason":"PR #10 merged. Security patches deployed to production via Vercel.","dependencies":[{"issue_id":"thenycoptometrist-4n6","depends_on_id":"thenycoptometrist-zs5","type":"blocks","created_at":"2025-12-26T16:30:06.056433-05:00","created_by":"daemon"},{"issue_id":"thenycoptometrist-4n6","depends_on_id":"thenycoptometrist-e1p","type":"blocks","created_at":"2025-12-26T16:30:06.202058-05:00","created_by":"daemon"}]}
{"id":"thenycoptometrist-5","title":"Fix Strapi blog posts showing 3x","description":"Blog posts are duplicated 3 times in Strapi - need to investigate and fix this data duplication issue","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-10-18T12:55:35.582026-04:00","updated_at":"2025-12-26T20:56:38.052223-05:00","closed_at":"2025-12-26T20:56:38.052223-05:00","close_reason":"Implemented in commit 6e4e23e (Oct 20, 2025)","dependencies":[{"issue_id":"thenycoptometrist-5","depends_on_id":"thenycoptometrist-4","type":"blocks","created_at":"2025-10-18T12:55:35.583186-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-59a","title":"Create CRUD functions in lib/products.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:48:14.033149-05:00","created_by":"nathanielsena","updated_at":"2026-01-06T23:39:17.60143-05:00","closed_at":"2026-01-06T23:39:17.60143-05:00","close_reason":"Implemented all CRUD functions with proper TypeScript interfaces and error handling:\n\n- Created lib/products.ts with complete CRUD operations\n- Added TypeScript interfaces for Product, Image, ProductCategory\n- Implemented helper function generateSlug() for auto-generating slugs from names\n- All functions support proper image and category relationships\n- Product CRUD: getProducts(), getProductBySlug(), getProductById(), getAllProductSlugs(), createProduct(), updateProduct(), deleteProduct()\n- Category CRUD: getCategories(), getCategoryBySlug(), createCategory(), updateCategory(), deleteCategory()\n- Image CRUD: deleteImage()\n- All functions include proper error handling\n- Supports category hierarchy via parentId\n- Supports sorting and filtering"}
{"id":"thenycoptometrist-6","title":"Update footer logo - remove magnifying glass","description":"The footer logo currently has a magnifying glass that needs to be removed. Update the logo image.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-18T12:55:42.369366-04:00","updated_at":"2025-12-26T20:56:38.0627-05:00","closed_at":"2025-12-26T20:56:38.0627-05:00","close_reason":"Implemented in commit 6e4e23e (Oct 20, 2025)","dependencies":[{"issue_id":"thenycoptometrist-6","depends_on_id":"thenycoptometrist-4","type":"blocks","created_at":"2025-10-18T12:55:42.370932-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-7","title":"Add 'Book Now' button to blog pages","description":"Add a prominent 'Book Now' button to blog pages to drive conversions from blog traffic. Should link to ZocDoc booking.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-10-18T12:55:50.004814-04:00","updated_at":"2025-12-26T20:56:38.056618-05:00","closed_at":"2025-12-26T20:56:38.056618-05:00","close_reason":"Implemented in commit 6e4e23e (Oct 20, 2025)","dependencies":[{"issue_id":"thenycoptometrist-7","depends_on_id":"thenycoptometrist-4","type":"blocks","created_at":"2025-10-18T12:55:50.005899-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-79b","title":"Fix robots.txt - sitemap URL shows undefined","description":"robots.txt shows 'Sitemap: undefined/sitemap.xml' - need to hardcode URL to https://www.thenycoptometrist.com/sitemap.xml. File: app/robots.ts","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-30T22:09:50.592232-05:00","created_by":"nathanielsena","updated_at":"2026-01-31T10:57:17.603818-05:00","closed_at":"2026-01-31T11:00:00-05:00"}
{"id":"thenycoptometrist-7j3","title":"Rotate all application secrets post-patch","description":"After deploying the CVE fix, rotate all application secrets as recommended by Next.js security advisory.\n\nSecrets to rotate:\n1. DATABASE_URL / DIRECT_URL (Supabase)\n2. RESEND_API_KEY\n3. CRON_SECRET\n4. Any other API keys or tokens\n\nSteps:\n1. Generate new credentials in each service dashboard\n2. Update Vercel environment variables\n3. Verify application still works with new credentials\n4. Revoke old credentials","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-26T16:29:48.761033-05:00","updated_at":"2025-12-26T20:28:16.696554-05:00","dependencies":[{"issue_id":"thenycoptometrist-7j3","depends_on_id":"thenycoptometrist-4n6","type":"blocks","created_at":"2025-12-26T16:30:06.345513-05:00","created_by":"daemon"}]}
{"id":"thenycoptometrist-7wp","title":"Create admin categories list page","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:50:01.132307-05:00","created_by":"nathanielsena","updated_at":"2026-01-07T00:10:55.174866-05:00","closed_at":"2026-01-07T00:10:55.174866-05:00","close_reason":"Created categories list page with table showing all categories with create button. Server component fetching categories via getCategories(). Edit/delete actions with confirmation dialogs. Shows parent-child hierarchy."}
{"id":"thenycoptometrist-8","title":"Add social media icons to pages","description":"Add social media icons throughout the site to increase engagement and social proof","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-10-18T12:55:56.584629-04:00","updated_at":"2025-12-26T20:56:38.064918-05:00","closed_at":"2025-12-26T20:56:38.064918-05:00","close_reason":"Implemented in commit 6e4e23e (Oct 20, 2025)","dependencies":[{"issue_id":"thenycoptometrist-8","depends_on_id":"thenycoptometrist-4","type":"blocks","created_at":"2025-10-18T12:55:56.585996-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-83z","title":"Debug and fix weekly analytics report cron job","description":"Weekly report cron not sending emails. Check Vercel env vars: RESEND_API_KEY, ANALYTICS_EMAIL_RECIPIENT, ANALYTICS_EMAIL_FROM, CRON_SECRET. Test endpoint manually and check Vercel function logs.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-30T22:10:14.754969-05:00","created_by":"nathanielsena","updated_at":"2026-01-31T10:57:22.454859-05:00","closed_at":"2026-01-31T11:00:00-05:00"}
{"id":"thenycoptometrist-8gl","title":"Test admin metrics dashboard at /admin/metrics","description":"Test the admin metrics dashboard functionality.\n\nTest Steps:\n1. Navigate to http://localhost:3001/admin/metrics\n2. Verify login screen appears\n3. Test authentication (check .env for ADMIN_PASSWORD)\n4. Verify dashboard loads with summary cards\n5. Test filters: date range, event type, pathname\n6. Test CSV and JSON export\n7. Test logout functionality\n\nPrerequisites:\n- PostgreSQL must be running\n- Database must have metrics data","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T16:30:10.24301-05:00","updated_at":"2025-12-26T16:30:10.24301-05:00"}
{"id":"thenycoptometrist-9","title":"Fix blog header image cropping issue","description":"The header image on blog pages is not displayed in entirety and cuts off. Need to fix the image display to show the full picture.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-10-18T12:56:04.85807-04:00","updated_at":"2025-12-26T20:56:38.059666-05:00","closed_at":"2025-12-26T20:56:38.059666-05:00","close_reason":"Implemented in commit 6e4e23e (Oct 20, 2025)","dependencies":[{"issue_id":"thenycoptometrist-9","depends_on_id":"thenycoptometrist-4","type":"blocks","created_at":"2025-10-18T12:56:04.859197-04:00","created_by":"nathanielsena"}]}
{"id":"thenycoptometrist-agr","title":"Create custom admin layout with sidebar","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:49:15.191783-05:00","created_by":"nathanielsena","updated_at":"2026-01-06T23:43:27.699542-05:00","closed_at":"2026-01-06T23:43:27.699542-05:00","close_reason":"Created app/(admin)/layout.tsx with custom admin UI\n\n- Custom sidebar navigation with links to /admin/products, /admin/categories, /admin\n- Uses LayoutDashboardMain from @payloadcms/ui for main content area\n- Server component with requireAdminAuth() check from lib/admin-auth\n- Tailwind CSS styling matching frontend patterns\n- NOT using Payload's LayoutDashboard components (custom UI per requirements)\n- Responsive sidebar navigation\n- Main content area for children\n- Ready for admin pages to be created"}
{"id":"thenycoptometrist-bge","title":"Create public product detail page","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:50:50.903407-05:00","created_by":"nathanielsena","updated_at":"2026-01-07T00:13:42.671266-05:00","closed_at":"2026-01-07T00:13:42.671266-05:00","close_reason":"Created app/(frontend)/products/[slug]/page.tsx with full SEO and analytics\n\nServer component with:\n- getProductBySlug() to fetch product data\n- generateMetadata() for SEO (title, description, OpenGraph, Twitter cards)\n- Product JSON-LD structured data schema\n- generateStaticParams() for ISR\n- Featured image display with proper aspect ratio\n- Product description in prose formatting\n- Affiliate disclosure (FTC-compliant)\n- Analytics tracking: trackProductReferralClick() on CTA button\n- CTA button with rel='noopener noreferrer' and target='_blank'\n- 404 handling via notFound()\n- Revalidate every 60 seconds\n- Back link to /products"}
{"id":"thenycoptometrist-bpp","title":"AI-Powered Blog Post Generation System","description":"Full workflow for AI-generated blog content:\n1. AI agent researches trending eye care topics\n2. Claude generates complete blog post draft\n3. Draft auto-saved to Payload CMS (status: Draft)\n4. Email notification sent to Dr. Latek with preview\n5. Owner reviews, edits, and publishes when ready\n\nTopic rotation: Eye health tips, Service explanations, NYC-specific content\n\nDependencies: Anthropic API key, Email templates, Payload CMS integration\n\nThis is a future feature requiring deeper discussion on tone, content guidelines, and review workflow.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-30T22:16:41.534163-05:00","created_by":"nathanielsena","updated_at":"2026-01-31T14:13:55.637857-05:00","closed_at":"2026-01-31T14:13:55.637861-05:00"}
{"id":"thenycoptometrist-cm3","title":"Create admin authentication helper","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:48:53.307114-05:00","created_by":"nathanielsena","updated_at":"2026-01-06T23:42:29.381066-05:00","closed_at":"2026-01-06T23:42:29.381066-05:00","close_reason":"Created lib/admin-auth.ts with requireAdminAuth() function\n\n- Uses NextAuth session checking from @/auth\n- Email whitelist: nate.sena1@gmail.com, jltk3260@gmail.com\n- Redirects to login if no session\n- Redirects to unauthorized page if email not in whitelist\n- Returns session for use in admin pages\n- Ready for use in admin layouts and pages"}
{"id":"thenycoptometrist-co6","title":"Fix Critical CVE-2025-66478 (React2Shell RCE)","description":"CRITICAL: Remote Code Execution vulnerability in Next.js/React Server Components. CVSS 10.0. This project is currently running vulnerable versions:\n- Next.js 15.1.2 (needs 15.1.9+)\n- React 19.0.0 (needs 19.0.1+)\n\nActive exploitation in the wild since Dec 5, 2025. Attackers can execute arbitrary code on the server via crafted HTTP requests. No workaround - must upgrade.\n\nRemediation:\n1. Upgrade Next.js to 15.1.9+\n2. Upgrade React to 19.0.1+\n3. Re-deploy application\n4. Rotate all application secrets\n\nSources:\n- https://nextjs.org/blog/CVE-2025-66478\n- https://nvd.nist.gov/vuln/detail/CVE-2025-66478","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-26T16:29:17.727339-05:00","updated_at":"2025-12-26T20:28:16.851629-05:00","closed_at":"2025-12-26T20:28:16.851629-05:00","close_reason":"Critical CVE-2025-66478 patched. Next.js upgraded to 15.5.9, React to 19.0.3. Secrets rotation deferred."}
{"id":"thenycoptometrist-df4","title":"AI Blog Generation: Complete end-to-end flow","description":"Implement full blog generation workflow: 1) Generate with z.ai/glm-4.7 ✓, 2) Save draft to Payload CMS, 3) Send email notification with publish link","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T12:22:12.784131-05:00","created_by":"nathanielsena","updated_at":"2026-01-31T13:11:53.775041-05:00","closed_at":"2026-01-31T13:11:53.775044-05:00"}
{"id":"thenycoptometrist-dn3","title":"AI Bot Traffic Detection \u0026 Monitoring","description":"Implement server-side detection of AI agent traffic (ChatGPT, Perplexity, Claude, Bing Copilot, etc.) to understand how AI systems are accessing and potentially recommending the site.\n\n## Problem\nCurrent analytics is client-side only. AI bots don't execute JavaScript, so we have zero visibility into AI crawler/agent traffic.\n\n## Solution\n1. Next.js middleware to intercept all requests server-side\n2. Detect AI bot user agents (GPTBot, ChatGPT-User, PerplexityBot, ClaudeBot, Bingbot)\n3. Add new EventType: ai_bot_visit\n4. Log bot visits with: user agent, path accessed, timestamp, referrer\n5. Dashboard to visualize AI bot traffic patterns\n\n## Known AI Bot User Agents\n- GPTBot (OpenAI crawler)\n- ChatGPT-User (ChatGPT browsing feature)\n- PerplexityBot\n- ClaudeBot (Anthropic)\n- Bingbot (powers Copilot)\n- Google-Extended (Bard/Gemini)\n\n## Success Metrics\n- Know how many AI bot visits per day/week\n- Which pages AI bots access most\n- Trends over time","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-31T14:14:37.626181-05:00","created_by":"nathanielsena","updated_at":"2026-01-31T14:14:37.626181-05:00"}
{"id":"thenycoptometrist-dnv","title":"Set up Vercel production environment variables for Payload","description":"Add to Vercel: PAYLOAD_DATABASE_URL, PAYLOAD_SECRET, AUTH_SECRET, AUTH_URL, GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET. Also add production redirect URI to Google Cloud Console.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T16:46:45.736401-05:00","created_by":"nathanielsena","updated_at":"2026-01-06T19:31:47.72244-05:00","closed_at":"2026-01-06T19:31:47.72244-05:00","close_reason":"Closed"}
{"id":"thenycoptometrist-e1p","title":"Upgrade React to 19.0.1+ (CVE-2025-66478)","description":"Upgrade React from 19.0.0 to 19.0.1 or later to patch critical RCE vulnerability.\n\nSteps:\n1. npm install react@19.0.1 react-dom@19.0.1\n2. Run npm run build to verify no breaking changes\n3. Run npm run dev and test locally\n4. Verify all components render correctly","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-26T16:29:40.950706-05:00","updated_at":"2025-12-26T19:59:05.228132-05:00","closed_at":"2025-12-26T19:59:05.228132-05:00","close_reason":"Upgraded React from 19.0.0 to 19.0.3 (patched). Build verified. 0 vulnerabilities."}
{"id":"thenycoptometrist-e6h","title":"Deploy Payload CMS to production and test","description":"Merge feature/payload-cms PR, test admin login at production /admin, verify blog posts display on production site","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T16:46:49.46543-05:00","created_by":"nathanielsena","updated_at":"2025-12-31T19:02:28.413134-05:00","closed_at":"2025-12-31T19:02:28.413134-05:00","close_reason":"Deployed to production. All schemas verified via SSR: LocalBusiness on homepage, Blog on /blog, BlogPosting on individual posts.","dependencies":[{"issue_id":"thenycoptometrist-e6h","depends_on_id":"thenycoptometrist-yyo","type":"blocks","created_at":"2025-12-31T16:46:58.921996-05:00","created_by":"daemon"},{"issue_id":"thenycoptometrist-e6h","depends_on_id":"thenycoptometrist-dnv","type":"blocks","created_at":"2025-12-31T16:46:58.97158-05:00","created_by":"daemon"}]}
{"id":"thenycoptometrist-eab","title":"Add AI blog generation cron job","description":"Create cron job to auto-generate draft blog posts using Claude API. Run weekly, save drafts to Payload CMS for Dr. Latek to review and publish. Files: app/api/cron/blog-generation/route.ts, lib/blog-generator.ts. Needs ANTHROPIC_API_KEY.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-30T22:10:20.026421-05:00","created_by":"nathanielsena","updated_at":"2026-01-30T22:10:20.026421-05:00"}
{"id":"thenycoptometrist-g42","title":"Rename ANALYTICS_EMAIL_FROM to EMAIL_FROM","description":"Rename environment variable from ANALYTICS_EMAIL_FROM to EMAIL_FROM since it's used for both analytics reports and blog draft notifications, not just analytics.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T13:45:19.893259-05:00","created_by":"nathanielsena","updated_at":"2026-01-31T14:04:51.61909-05:00","closed_at":"2026-01-31T14:04:51.619093-05:00"}
{"id":"thenycoptometrist-jw9","title":"Add Prisma models for Product, Image, and ProductCategory","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:47:48.978144-05:00","created_by":"nathanielsena","updated_at":"2026-01-06T23:24:59.439889-05:00","closed_at":"2026-01-06T23:24:59.439889-05:00","close_reason":"Added three Prisma models (Product, Image, ProductCategory) with proper relations and indexes. Schema updated with:\n- Product model: id, name, slug (unique), description, categoryId (FK), price, referralUrl, stock, featured, available, timestamps, relations to Category and Images\n- Image model: id, url, alt, width, height, filename, mimeType, timestamp, relation to Products\n- ProductCategory model: id, name, slug (unique), description, metaTitle, metaDescription, parentId (FK for hierarchy), sort, timestamps, self-referencing for parent-child structure, relation to Products\n- Added performance indexes: slug, categoryId/available, available/featured, parentId/sort"}
{"id":"thenycoptometrist-k35","title":"Test complete product referral system","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-06T20:52:00.737877-05:00","created_by":"nathanielsena","updated_at":"2026-01-07T00:14:31.459525-05:00"}
{"id":"thenycoptometrist-l1b","title":"Implement contact form email functionality","description":"Implemented functional contact form that sends email notifications when users submit.\n\n## What was built\n- Contact form at /contact now sends email notifications\n- Emails go to same recipient as weekly analytics reports (ANALYTICS_EMAIL_RECIPIENT)\n- Uses Resend API for email delivery\n\n## Files changed\n- `lib/email.ts`: Added sendContactFormEmail() function with styled HTML template\n- `app/api/contact/route.ts`: New POST endpoint with validation\n- `app/components/contact-us.tsx`: Added loading states, success/error feedback\n\n## Key details\n- Reply-To header set to submitter's email for easy responses\n- HTML escaping prevents XSS in email content\n- Analytics tracking via trackEmailClick() on successful submissions\n\n## Commit\n302d4e1 on main branch (2026-01-31)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T10:51:42.340594-05:00","created_by":"nathanielsena","updated_at":"2026-01-31T10:51:55.591217-05:00","closed_at":"2026-01-31T10:51:55.591217-05:00","close_reason":"Closed","labels":["done","feature"]}
{"id":"thenycoptometrist-lvn","title":"Add potentialAction for booking to LocalBusiness schema","description":"LocalBusiness schema needs potentialAction with ReserveAction pointing to ZocDoc booking URL. This tells AI agents how to book appointments. File: app/layout.tsx","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-30T22:10:04.334656-05:00","created_by":"nathanielsena","updated_at":"2026-01-31T10:57:25.134669-05:00","closed_at":"2026-01-31T11:00:00-05:00"}
{"id":"thenycoptometrist-mnh","title":"Create category edit form","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:50:39.180448-05:00","created_by":"nathanielsena","updated_at":"2026-01-07T00:10:55.313214-05:00","closed_at":"2026-01-07T00:10:55.313214-05:00","close_reason":"Created category edit form client component that loads existing category data and pre-populates form. Same structure as create form. Editable slug field. Update API call with proper error handling and redirect on success."}
{"id":"thenycoptometrist-nww","title":"Create product edit form","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-06T20:49:55.95703-05:00","created_by":"nathanielsena","updated_at":"2026-01-07T00:10:55.38145-05:00"}
{"id":"thenycoptometrist-rf9","title":"Create admin API routes for products and categories","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:48:28.000173-05:00","created_by":"nathanielsena","updated_at":"2026-01-06T23:41:48.211179-05:00","closed_at":"2026-01-06T23:41:48.211179-05:00","close_reason":"Created 4 admin API routes with full CRUD support:\n\nProducts API (app/api/admin/products/):\n- GET: List products with filters (categoryId, available, featured)\n- POST: Create new product\nProduct Detail API (app/api/admin/products/[id]/route.ts):\n- GET: Get single product by ID\n- PUT: Update product by ID\n- DELETE: Delete product by ID\nCategories API (app/api/admin/categories/route.ts):\n- GET: List categories with parentId filter\n- POST: Create new category\nCategory Detail API (app/api/admin/categories/[id]/route.ts):\n- GET: Get single category by slug\n- PUT: Update category\n- DELETE: Delete category\n- All routes include proper error handling (404, 500)\n- All routes import CRUD functions from lib/products.ts"}
{"id":"thenycoptometrist-sbq","title":"Update frontend blog pages to fetch from Payload instead of Strapi","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T16:46:26.867766-05:00","created_by":"nathanielsena","updated_at":"2025-12-31T16:57:41.513388-05:00","closed_at":"2025-12-31T16:57:41.513388-05:00","close_reason":"Updated blog listing and detail pages to use Payload API instead of Strapi"}
{"id":"thenycoptometrist-svd","title":"Add revalidation to sitemap","description":"Sitemap at app/sitemap.ts needs explicit revalidation setting (export const revalidate = 3600) so new blog posts appear faster.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T22:10:09.516479-05:00","created_by":"nathanielsena","updated_at":"2026-01-30T22:10:09.516479-05:00"}
{"id":"thenycoptometrist-swo","title":"Payload CMS Blog Setup","description":"Add Payload CMS with pre-configured blog schema to NYC Optometrist. Replaces external Strapi CMS with embedded solution that deploys with the app.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-22T17:34:53.676338-05:00","updated_at":"2025-12-22T17:34:53.676338-05:00","labels":["cms","infrastructure"]}
{"id":"thenycoptometrist-swo.1","title":"Create Neon database and get connection string","description":"1. Go to https://neon.tech and create free account\n2. Create project: thenycoptometrist-cms\n3. Copy the PostgreSQL connection string (with ?sslmode=require)","status":"closed","priority":1,"issue_type":"task","assignee":"User","created_at":"2025-12-22T17:35:19.654932-05:00","updated_at":"2025-12-31T14:26:58.735152-05:00","closed_at":"2025-12-31T14:26:58.735152-05:00","close_reason":"Neon database created and .env.local updated with credentials","labels":["database","setup"],"dependencies":[{"issue_id":"thenycoptometrist-swo.1","depends_on_id":"thenycoptometrist-swo","type":"parent-child","created_at":"2025-12-22T17:35:19.655304-05:00","created_by":"daemon"}]}
{"id":"thenycoptometrist-swo.2","title":"Update .env.local with real database credentials","description":"Update /Users/nathanielsena/Documents/code/thenycoptometrist-payload/.env.local with:\n- PAYLOAD_DATABASE_URL from Neon\n- PAYLOAD_SECRET (generate with: openssl rand -hex 32)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T17:36:02.374986-05:00","updated_at":"2025-12-31T14:26:58.737105-05:00","closed_at":"2025-12-31T14:26:58.737105-05:00","close_reason":"Neon database created and .env.local updated with credentials","labels":["database","setup"],"dependencies":[{"issue_id":"thenycoptometrist-swo.2","depends_on_id":"thenycoptometrist-swo","type":"parent-child","created_at":"2025-12-22T17:36:02.375332-05:00","created_by":"daemon"},{"issue_id":"thenycoptometrist-swo.2","depends_on_id":"thenycoptometrist-swo.1","type":"blocks","created_at":"2025-12-22T17:36:02.375938-05:00","created_by":"daemon"}]}
{"id":"thenycoptometrist-swo.3","title":"Run dev server and test admin panel","description":"1. cd /Users/nathanielsena/Documents/code/thenycoptometrist-payload\n2. npm run dev\n3. Visit http://localhost:3000/admin\n4. Verify admin panel loads correctly","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T17:36:10.619512-05:00","updated_at":"2025-12-31T18:05:18.566883-05:00","closed_at":"2025-12-31T18:05:18.566883-05:00","close_reason":"Completed - dev server tested, blog post created, frontend pages updated to use Payload","labels":["testing"],"dependencies":[{"issue_id":"thenycoptometrist-swo.3","depends_on_id":"thenycoptometrist-swo","type":"parent-child","created_at":"2025-12-22T17:36:10.619881-05:00","created_by":"daemon"},{"issue_id":"thenycoptometrist-swo.3","depends_on_id":"thenycoptometrist-swo.2","type":"blocks","created_at":"2025-12-22T17:36:10.620441-05:00","created_by":"daemon"}]}
{"id":"thenycoptometrist-swo.4","title":"Create admin user and test blog post","description":"1. Create first admin user in Payload admin panel\n2. Navigate to Blog Posts collection\n3. Create a test blog post with title, content, and featured image\n4. Verify draft/publish workflow works","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T17:36:20.913842-05:00","updated_at":"2025-12-31T18:05:18.568121-05:00","closed_at":"2025-12-31T18:05:18.568121-05:00","close_reason":"Completed - dev server tested, blog post created, frontend pages updated to use Payload","labels":["testing"],"dependencies":[{"issue_id":"thenycoptometrist-swo.4","depends_on_id":"thenycoptometrist-swo","type":"parent-child","created_at":"2025-12-22T17:36:20.914125-05:00","created_by":"daemon"},{"issue_id":"thenycoptometrist-swo.4","depends_on_id":"thenycoptometrist-swo.3","type":"blocks","created_at":"2025-12-22T17:36:20.914658-05:00","created_by":"daemon"}]}
{"id":"thenycoptometrist-swo.5","title":"Switch blog pages from lib/strapi to lib/payload","description":"Update imports in:\n- app/blog/page.tsx\n- app/blog/[slug]/page.tsx\n- app/sitemap.ts\n\nChange: import { getBlogPosts, getBlogPostBySlug } from '@/lib/strapi'\nTo: import { getBlogPosts, getBlogPostBySlug } from '@/lib/payload'","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T17:36:55.625855-05:00","updated_at":"2025-12-31T18:05:18.569199-05:00","closed_at":"2025-12-31T18:05:18.569199-05:00","close_reason":"Completed - dev server tested, blog post created, frontend pages updated to use Payload","labels":["integration"],"dependencies":[{"issue_id":"thenycoptometrist-swo.5","depends_on_id":"thenycoptometrist-swo","type":"parent-child","created_at":"2025-12-22T17:36:55.626325-05:00","created_by":"daemon"},{"issue_id":"thenycoptometrist-swo.5","depends_on_id":"thenycoptometrist-swo.4","type":"blocks","created_at":"2025-12-22T17:36:55.6271-05:00","created_by":"daemon"}]}
{"id":"thenycoptometrist-swo.6","title":"Configure S3 or GCS for production image storage","description":"For production deployment:\n1. Choose AWS S3 or Google Cloud Storage\n2. Install storage adapter: npm install @payloadcms/storage-s3 or @payloadcms/storage-gcs\n3. Create bucket and IAM credentials\n4. Update payload.config.ts with storage plugin\n5. Add environment variables to .env.local and Vercel","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T17:37:04.380222-05:00","updated_at":"2025-12-22T17:37:04.380222-05:00","labels":["infrastructure","production"],"dependencies":[{"issue_id":"thenycoptometrist-swo.6","depends_on_id":"thenycoptometrist-swo","type":"parent-child","created_at":"2025-12-22T17:37:04.380645-05:00","created_by":"daemon"},{"issue_id":"thenycoptometrist-swo.6","depends_on_id":"thenycoptometrist-swo.5","type":"blocks","created_at":"2025-12-22T17:37:04.381337-05:00","created_by":"daemon"}]}
{"id":"thenycoptometrist-tt9","title":"Payload CMS Frontend Integration \u0026 Production Deployment","description":"Connect frontend blog pages to Payload CMS and deploy to production. Replaces Strapi for blog content management.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-31T16:48:39.551003-05:00","created_by":"nathanielsena","updated_at":"2026-01-06T19:31:47.72091-05:00","closed_at":"2026-01-06T19:31:47.72091-05:00","close_reason":"Closed","dependencies":[{"issue_id":"thenycoptometrist-tt9","depends_on_id":"thenycoptometrist-e6h","type":"blocks","created_at":"2025-12-31T16:48:48.835527-05:00","created_by":"daemon"}]}
{"id":"thenycoptometrist-tt9.1","title":"Add production redirect URI to Google Cloud Console","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T18:04:55.393719-05:00","created_by":"nathanielsena","updated_at":"2025-12-31T18:05:14.936656-05:00","closed_at":"2025-12-31T18:05:14.936656-05:00","close_reason":"Production redirect URI https://www.thenycoptometrist.com/api/auth/callback/google was already configured in Google Cloud Console OAuth client","dependencies":[{"issue_id":"thenycoptometrist-tt9.1","depends_on_id":"thenycoptometrist-tt9","type":"parent-child","created_at":"2025-12-31T18:04:55.394222-05:00","created_by":"daemon"}]}
{"id":"thenycoptometrist-tt9.2","title":"Update sitemap.ts to fetch blog posts from Payload","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T18:04:59.029721-05:00","created_by":"nathanielsena","updated_at":"2025-12-31T18:07:56.251997-05:00","closed_at":"2025-12-31T18:07:56.251997-05:00","close_reason":"Updated sitemap.ts to use getBlogPosts from lib/payload-api with correct field names","dependencies":[{"issue_id":"thenycoptometrist-tt9.2","depends_on_id":"thenycoptometrist-tt9","type":"parent-child","created_at":"2025-12-31T18:04:59.032942-05:00","created_by":"daemon"}]}
{"id":"thenycoptometrist-tt9.3","title":"Verify blog post JSON-LD schema is correct","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T18:05:02.6751-05:00","created_by":"nathanielsena","updated_at":"2025-12-31T18:08:31.544907-05:00","closed_at":"2025-12-31T18:08:31.544907-05:00","close_reason":"JSON-LD BlogPosting schema verified - includes all required fields: headline, description, datePublished, dateModified, author, publisher, url, mainEntityOfPage, image, articleSection, keywords","dependencies":[{"issue_id":"thenycoptometrist-tt9.3","depends_on_id":"thenycoptometrist-tt9","type":"parent-child","created_at":"2025-12-31T18:05:02.676684-05:00","created_by":"daemon"}]}
{"id":"thenycoptometrist-tt9.4","title":"Add Vercel production environment variables","description":"Add PAYLOAD_DATABASE_URL, PAYLOAD_SECRET, AUTH_SECRET, AUTH_GOOGLE_ID, AUTH_GOOGLE_SECRET to Vercel production environment","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T18:11:11.648938-05:00","created_by":"nathanielsena","updated_at":"2025-12-31T18:11:20.530896-05:00","closed_at":"2025-12-31T18:11:20.530896-05:00","close_reason":"User added PAYLOAD_DATABASE_URL, PAYLOAD_SECRET, AUTH_SECRET, AUTH_GOOGLE_ID, AUTH_GOOGLE_SECRET to Vercel production","dependencies":[{"issue_id":"thenycoptometrist-tt9.4","depends_on_id":"thenycoptometrist-tt9","type":"parent-child","created_at":"2025-12-31T18:11:11.652364-05:00","created_by":"daemon"}]}
{"id":"thenycoptometrist-u76","title":"Create public products listing page","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:50:45.115341-05:00","created_by":"nathanielsena","updated_at":"2026-01-07T00:13:42.7156-05:00","closed_at":"2026-01-07T00:13:42.7156-05:00","close_reason":"Created app/(frontend)/products/page.tsx with product listing page\n\nServer component with:\n- getProducts() to fetch available products\n- Products grid layout (1 col mobile, 2 col desktop)\n- Product cards showing: image/letter fallback, name, truncated description\n- CollectionPage JSON-LD schema with itemListElement\n- Metadata for SEO (title, description, OpenGraph, Twitter)\n- Affiliate disclosure at top of page (FTC-compliant)\n- Empty state handling for no products\n- Links to individual product pages\n- Revalidate every 60 seconds"}
{"id":"thenycoptometrist-yyo","title":"Test blog post creation and display locally","description":"Create a test blog post in Payload admin at localhost:3333/admin, then verify it appears on the frontend at /blog and /blog/[slug]","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T16:46:41.994164-05:00","created_by":"nathanielsena","updated_at":"2025-12-31T17:59:52.517757-05:00","closed_at":"2025-12-31T17:59:52.517757-05:00","close_reason":"Blog post creation and display working end-to-end locally","dependencies":[{"issue_id":"thenycoptometrist-yyo","depends_on_id":"thenycoptometrist-sbq","type":"blocks","created_at":"2025-12-31T16:46:58.868529-05:00","created_by":"daemon"}]}
{"id":"thenycoptometrist-zc6","title":"Update sitemap with products","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:51:14.953036-05:00","created_by":"nathanielsena","updated_at":"2026-01-07T00:13:42.759547-05:00","closed_at":"2026-01-07T00:13:42.759547-05:00","close_reason":"Updated sitemap.ts to include product pages\n\nAdded products to sitemap:\n- Import getAllProductSlugs() from lib/products\n- Fetch all available product slugs\n- Generate sitemap entries for /products (priority 0.8)\n- Generate sitemap entries for individual product pages (priority 0.7)\n- Combine with existing static pages and blog pages\n- Maintains existing blog structure and priorities\n- Proper lastModified and changeFrequency settings"}
{"id":"thenycoptometrist-zck","title":"Create category create form","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T20:50:21.153077-05:00","created_by":"nathanielsena","updated_at":"2026-01-07T00:10:55.243656-05:00","closed_at":"2026-01-07T00:10:55.243656-05:00","close_reason":"Created category create form client component with all fields: name, slug (auto-generated), description, parent (dropdown), sort, metaTitle, metaDescription. Populates categories from API. Form validation, save/cancel buttons, redirect on success."}
{"id":"thenycoptometrist-zs5","title":"Upgrade Next.js to 15.1.9+ (CVE-2025-66478)","description":"Upgrade Next.js from 15.1.2 to 15.1.9 or later to patch critical RCE vulnerability.\n\nSteps:\n1. npm install next@15.1.9 (or latest 15.x patched version)\n2. Run npm run build to verify no breaking changes\n3. Run npm run dev and test locally\n4. Verify all pages load correctly","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-26T16:29:36.665826-05:00","updated_at":"2025-12-26T16:49:57.698136-05:00","closed_at":"2025-12-26T16:49:57.698136-05:00","close_reason":"Upgraded Next.js from 15.1.2 to 15.1.11 (fully patched). Build verified. npm audit shows 0 vulnerabilities."}
